{"mappings":"YAEAA,KAAO,CACLC,KAAOC,SAASC,cAAc,SAC9BC,YAAcF,SAASC,cAAc,uBACrCE,UAAYH,SAASC,cAAc,sBACnCG,YAAcJ,SAASC,cAAc,yBAGvCH,KAAKC,KAAKM,iBAAiB,UAoC3B,SAAsBC,IAvBWC,EAwBPC,EAtBjB,IAAIC,SAAQ,SAACC,EAASC,GAC3B,IAAMC,EAAgBC,KAAKC,SAAW,GAC5BC,EAESC,aAAY,WAMzBJ,EACFF,IAEAC,IAGS,C,GACVJ,E,KAMJU,MAAK,SAAAC,G,IAAGC,EAAQD,EAARE,SAAUC,EAAKH,EAALI,MACjBC,QAAQC,IAAI,uBAAwCC,OAAfN,EAAS,QAAYM,OAANJ,EAAM,M,IAE3DK,OAAM,SAAAR,G,IAAGS,EAAQT,EAARE,SAAUQ,EAAKV,EAALI,MAClBC,QAAQC,IAAI,sBAAqCC,OAAfE,EAAS,QAAYF,OAANG,EAAM,M,IA7B3D,IAAiCrB,C,IARjC,IAEMC,EAFaV,KAAK+B,WAAWC,MACjBhC,KAAKK,UAAU2B,MAE3Bf,EAASjB,KAAKM,YAAY0B,K","sources":["src/js/03-promises.js"],"sourcesContent":["import '../css/common.css';\n\nrefs = {\n  form : document.querySelector('.form'),\n  inputDdelay : document.querySelector('input[name=\"delay\"]'),\n  inputStep : document.querySelector('input[name=\"step\"]'), \n  inputAmount : document.querySelector('input[name=\"amount\"]'),\n};\n\nrefs.form.addEventlistener('submit', onFormSubmit);\n// refs.inputDdelay.addEventlistener('submit', onFormSubmit);\n// refs.inputStep.addEventlistener('submit', onFormSubmit);\n// refs.inputAmount.addEventlistener('submit', onFormSubmit);\n\nconst firstDelay = refs.inputDelay.value;\nconst delayStep = refs.inputStep.value;\nconst delay = firstDelay + delayStep;\nconst AMOUNT = refs.inputAmount.value;\nlet position = 0;\nlet counter = 0;\nlet intervalId = null;\n\nfunction createPromise(position, delay) {\n  \n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n    counter = AMOUNT;\n\n    const intervalId = setInterval(() => {\n      // if (counter === AMOUNT) {\n      //   clearInterval(intervalId);\n      //   return;\n      // }\n\n      if (shouldResolve) {\n        resolve();// Fulfill\n      } else {\n        reject();// Reject\n      }\n      position += 1;\n      counter += 1;\n    }, delay);\n  });\n}\n\nfunction onFormSubmit(evt) {\n  createPromise(position, delay)\n  .then(({ position, delay }) => {\n    console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n  })\n  .catch(({ position, delay }) => {\n    console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n  });\n}\n\n\n"],"names":["refs","form","document","querySelector","inputDdelay","inputStep","inputAmount","addEventlistener","evt","delay1","$ce04d3a99e08e73b$var$delay","Promise","resolve","reject","shouldResolve","Math","random","$ce04d3a99e08e73b$var$AMOUNT","setInterval","then","param","position2","position","delay2","delay","console","log","concat","catch","position3","delay3","inputDelay","value"],"version":3,"file":"03-promises.515ad4eb.js.map"}