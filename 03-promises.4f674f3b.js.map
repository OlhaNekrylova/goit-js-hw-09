{"mappings":"YAEA,IAAMA,EAAO,CACXC,KAAOC,SAASC,cAAc,SAC9BC,WAAaF,SAASC,cAAc,uBACpCE,UAAYH,SAASC,cAAc,sBACnCG,YAAcJ,SAASC,cAAc,yBAGvCH,EAAKC,KAAKM,iBAAiB,SAAUC,GACrCR,EAAKI,WAAWG,iBAAiB,SAAUC,GAC3CR,EAAKK,UAAUE,iBAAiB,SAAUC,GAC1CR,EAAKM,YAAYC,iBAAiB,SAAUC,GAE5C,IAAMC,EAAQT,EAAKI,WAAWM,MAExBC,GADOX,EAAKK,UAAUK,MACbV,EAAKM,YAAYI,OAC5BE,EAAW,EAoBf,SAASJ,EAAaK,GAhBtB,IAAuBC,EAAUC,EAiB/BF,EAAIG,iBAEML,GAnBWG,EAwBLF,EAxBeG,EAwBLN,EAtBnB,IAAIQ,SAAQ,SAACC,EAASC,GAC3B,IAAMC,EAAgBC,KAAKC,SAAW,GAEtCC,YAAW,WACLH,EACFF,EAAQ,CAAEM,SAAAV,EAAUW,MAAAV,IAEpBI,EAAO,CAAEK,SAAAV,EAAUW,MAAAV,G,GAGpBA,E,KAaFW,MAAK,SAAAC,G,IAAGC,EAAQD,EAARH,SAAUK,EAAKF,EAALF,MACjBK,QAAQC,IAAI,uBAAwCC,OAAfJ,EAAS,QAAYI,OAANH,EAAM,M,IAE3DI,OAAM,SAAAN,G,IAAGO,EAAQP,EAARH,SAAUW,EAAKR,EAALF,MAClBK,QAAQC,IAAI,sBAAqCC,OAAfE,EAAS,QAAYF,OAANG,EAAM,M,IAGzDvB,GAAY,C","sources":["src/js/03-promises.js"],"sourcesContent":["import '../css/common.css';\n\nconst refs = {\n  form : document.querySelector('.form'),\n  inputDelay : document.querySelector('input[name=\"delay\"]'),\n  inputStep : document.querySelector('input[name=\"step\"]'), \n  inputAmount : document.querySelector('input[name=\"amount\"]'),\n};\n\nrefs.form.addEventListener('submit', onFormSubmit);\nrefs.inputDelay.addEventListener('submit', onFormSubmit);\nrefs.inputStep.addEventListener('submit', onFormSubmit);\nrefs.inputAmount.addEventListener('submit', onFormSubmit);\n\nconst delay = refs.inputDelay.value;\nconst step = refs.inputStep.value;\nconst AMOUNT = refs.inputAmount.value;\nlet position = 0;\nlet counter = 0;\nlet timeoutId = null;\n\nfunction createPromise(position, delay) {\n  \n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n    \n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve({ position, delay });\n      } else {\n        reject({ position, delay });\n      }\n      \n    }, delay);\n  });\n};\n\nfunction onFormSubmit(evt) {\n  evt.preventDefault();\n  \n  counter = AMOUNT;\n  // if (counter === AMOUNT) {\n\n  // }\n\n    createPromise(position, delay)\n    .then(({ position, delay }) => {\n      console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n    })\n    .catch(({ position, delay }) => {\n      console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n    });\n\n    position += 1;\n    // delay += step;\n  \n};\n\n\n"],"names":["$ce04d3a99e08e73b$var$refs","form","document","querySelector","inputDelay","inputStep","inputAmount","addEventListener","$ce04d3a99e08e73b$var$onFormSubmit","$ce04d3a99e08e73b$var$delay","value","$ce04d3a99e08e73b$var$AMOUNT","$ce04d3a99e08e73b$var$position","evt","position1","delay1","preventDefault","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","position","delay","then","param","position2","delay2","console","log","concat","catch","position3","delay3"],"version":3,"file":"03-promises.4f674f3b.js.map"}